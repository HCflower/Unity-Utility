## **抖音开放平台 - 小游戏 API 接口文**档

一、广告 API

<div style="max-width: 800px; overflow-x: auto;">

| API 名称                                                                                                                                  | API 介绍                 | API 参数介绍                                                                                                                 | API 调用方法                                                                       |
| ----------------------------------------------------------------------------------------------------------------------------------------- | :----------------------- | ---------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------- |
| ShowRewardedVideoAd(Action onSuccess,Action onFailure)                                                                                    | 显示激励视频广告         | onSuccess：播放成功回调 onFailure：播放失败回调                                                                              | TikTokAPI.Instance.ShowRewardedVideoAd( onSuccess: () =>{ },onFailure:()⇒{ });     |
| ShowMultitonRewardedAd( Action onSuccess, Action onFailure, int rewardTimes = 2, string[] rewardMessages = null, bool progressTip = true) | 显示多次播放激励视频广告 | onSuccess：播放成功回调 onFailure：播放失败回调 rewardTimes：连续播放次数 rewardMessages：激励文本信息 progressTip：进度提示 | TikTokAPI.Instance.ShowMultitonRewardedAd(\ onSuccess: () =>{ },onFailure:()⇒{ }); |
| ShowBannerAd()                                                                                                                            | 显示横幅广告             | 无                                                                                                                           | TikTokAPI.Instance.ShowBannerAd();                                                 |
| HideBannerAd()                                                                                                                            | 隐藏横幅广告             | 无                                                                                                                           | TikTokAPI.Instance.HideBannerAd();                                                 |
| ResizeBannerAd(int top, int left, int width)                                                                                              | 调整横幅广告尺寸         | top：离上边距离，left：离左边距离，width：宽度                                                                               | TikTokAPI.Instance.ResizeBannerAd(200,200,250)                                     |
| ShowInterstitialAd(Action onSuccess = null, Action onFailure = null)                                                                      | 显示插屏广告             | onSuccess：播放成功回调 onFailure：播放失败回调                                                                              | TikTokAPI.Instance.ShowInterstitialAd( onSuccess: () =>{ },onFailure:()⇒{ });      |

</div>

二、OpenAPI

| API 名称                                                                                                                                                                             | API 介绍                                                          | API 参数介绍                                                                                                                                                                                                 | API 调用方法                                                                                                                                     |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| OnNavigateToScene(Action success, Action failure)                                                                                                                                    | 显示侧边栏                                                        | success：成功回调 failure：失败回调                                                                                                                                                                          | TikTokAPI.Instance.TTOpenAPI.\ OnNavigateToScene(success:()⇒{ },failure:()⇒{ });                                                                 |
| ShowFour()                                                                                                                                                                           | 显示互推资源位                                                    | 无                                                                                                                                                                                                           | TikTokAPI.Instance.TTOpenAPI.ShowFour();                                                                                                         |
| HideFour()                                                                                                                                                                           | 隐藏互推资源位                                                    | 无                                                                                                                                                                                                           | TikTokAPI.Instance.TTOpenAPI.HideFour();                                                                                                         |
| DestroyFour()                                                                                                                                                                        | 销毁互推资源位                                                    | 无                                                                                                                                                                                                           | TikTokAPI.Instance.TTOpenAPI.DestroyFour();                                                                                                      |
| RequestSubscribeMessage()                                                                                                                                                            | 请求订阅申请                                                      | 无                                                                                                                                                                                                           | TikTokAPI.Instance.TTOpenAPI.RequestSubscribeMessage();                                                                                          |
| ShareAppMessageLink(string templateId, string title, string description, Action onSuccess = null, Action `<string>` onFailed = null, Action onCancel = null)                         | 文本链接分享                                                      | templateId：申请通过的 ID，title：标题，description：描述，onSuccess:成功回调，onFailed：失败回调，onCancel：取消回调                                                                                        | TikTokAPI.Instance.TTOpenAPI.ShareAppMessageLink("**\***"， "Game Name","这个游戏真好玩"，onSuccess:()⇒{ },onFailed:(err)⇒{ },onCancel:()⇒{ });  |
| ShareAppMessageImage(string templateId, string title, string description, Action onSuccess = null, Action `<string>` onFailed = null, Action onCancel = null)                        | 图文链接分享                                                      | templateId：申请通过的 ID，title：标题，description：描述，onSuccess:成功回调，onFailed：失败回调，onCancel：取消回调                                                                                        | TikTokAPI.Instance.TTOpenAPI.ShareAppMessageImage("**\***"， "Game Name","这个游戏真好玩"，onSuccess:()⇒{ },onFailed:(err)⇒{ },onCancel:()⇒{ }); |
| PalyerLogion()                                                                                                                                                                       | 玩家登录                                                          | 无                                                                                                                                                                                                           | TikTokAPI.Instance.TTOpenAPI.PalyerLogion();                                                                                                     |
| SendRankInfo( int dataType, string value, int priority, string zoneId, Action<bool, string> onResult = null)                                                                         | 发送排行榜信息(⚠️：使用排行榜之前要先登录)                        | dataType：排行依据类型(0：Int，1：String)， value：数值，priority：优先级，zoneId：分区 Id(默认为：default/Test), onResult:结果回调                                                                          | TikTokAPI.Instance.TTOpenAPI.SendRankInfo(\ 0,"999",0,"default"，(b,s)⇒{ });                                                                     |
| RequestRankInfoList( int dataType, string rankTitle, string rankType, string zoneId = "default", string relationType = "", string suffix = "", Action<bool, string> onResult = null) | 请求排行榜信息                                                    | 排行依据类型(0：Int，1：String)，rankTitle：排行榜标题，rankType：刷新间隔时间(day,week,month/all), zoneId：分区 Id(默认为：default/Test),relationType:关系类型，suffix：排行依据信息后缀，onResult:结果回调 | TikTokAPI.Instance.TTOpenAPI.SendRankInfo(\ 0,"分数排行","day","default"，onResult:(b,s)⇒{ });                                                   |
| CheckForSensitiveWords(string word, Action `<bool>` success, Action `<string>` failed)                                                                                               | 检查敏感词                                                        | word：需要检查的词，success：成功回调，failed:失败回调                                                                                                                                                       | TikTokAPI.Instance.TTOpenAPI.CheckForSensitiveWords("杀死小日本"，success:(b)⇒{ },failed:(s)⇒{ });                                               |
| SetTTPlayerPrefsValue(string,T);                                                                                                                                                     | 保存数据到 TTPlayerPrefs ← 需要 new 和 Unity PlayerPrefs 用法相同 | string：数据 key 值，T 数据类型                                                                                                                                                                              | TikTokAPI.Instance.TTOpenAPI.SetTTPlayerPrefsValue("小日子被种蘑菇数"，2)；                                                                      |
| GetTTPlayerPrefsValue(string,T);                                                                                                                                                     | 获取 TTPlayerPrefs 数据与 Unity PlayerPrefs 用法相同              | string：数据 key 值，T 数据类型                                                                                                                                                                              | TikTokAPI.Instance.TTOpenAPI.GetTTPlayerPrefsValue("小日子被种蘑菇数"，out int count)；                                                          |
| SaveTTPlayerPrefs()                                                                                                                                                                  | 保存 TTPlayerPrefs 数据                                           | 无                                                                                                                                                                                                           | TikTokAPI.Instance.TTOpenAPI.SaveTTPlayerPrefs();                                                                                                |
| DeleteTTPlayerPrefsKey(string key)                                                                                                                                                   | 删除 TTPlayerPrefs 数据                                           | key：数据名称                                                                                                                                                                                                | TikTokAPI.Instance.TTOpenAPI.DeleteTTPlayerPrefsKey("小日子被种蘑菇数");                                                                         |
| ClearAllTTPlayerPrefsKey()                                                                                                                                                           | 清理所有 TTPlayerPrefs 数据                                       | 无                                                                                                                                                                                                           | TikTokAPI.Instance.TTOpenAPI.ClearAllTTPlayerPrefsKey();                                                                                         |
